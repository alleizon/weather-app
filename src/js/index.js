// import API from "./requestAPI";
import Process from "./processors";
import DOM from "./DOM";

let city = "Bucharest";
let unit = "metric";

const CURRENT = {
  coord: { lon: 26.1063, lat: 44.4323 },
  weather: [
    { id: 804, main: "Clouds", description: "overcast clouds", icon: "04n" },
  ],
  base: "stations",
  main: {
    temp: 5.76,
    feels_like: 1.44,
    temp_min: 5.01,
    temp_max: 6.11,
    pressure: 1016,
    humidity: 81,
  },
  visibility: 10000,
  wind: { speed: 7.15, deg: 70 },
  clouds: { all: 100 },
  dt: 1677172024,
  sys: {
    type: 2,
    id: 2037828,
    country: "RO",
    sunrise: 1677128644,
    sunset: 1677167657,
  },
  timezone: 7200,
  id: 683506,
  name: "Bucharest",
  cod: 200,
};
const FORECAST = {
  cod: "200",
  message: 0,
  cnt: 40,
  list: [
    {
      dt: 1677175200,
      main: {
        temp: 5.76,
        feels_like: 2.09,
        temp_min: 4.96,
        temp_max: 5.76,
        pressure: 1016,
        sea_level: 1016,
        grnd_level: 1011,
        humidity: 81,
        temp_kf: 0.8,
      },
      weather: [
        {
          id: 804,
          main: "Clouds",
          description: "overcast clouds",
          icon: "04n",
        },
      ],
      clouds: { all: 100 },
      wind: { speed: 5.44, deg: 77, gust: 10.29 },
      visibility: 10000,
      pop: 0.1,
      sys: { pod: "n" },
      dt_txt: "2023-02-23 18:00:00",
    },
    {
      dt: 1677186000,
      main: {
        temp: 5.7,
        feels_like: 2.55,
        temp_min: 5.57,
        temp_max: 5.7,
        pressure: 1018,
        sea_level: 1018,
        grnd_level: 1011,
        humidity: 83,
        temp_kf: 0.13,
      },
      weather: [
        {
          id: 804,
          main: "Clouds",
          description: "overcast clouds",
          icon: "04n",
        },
      ],
      clouds: { all: 100 },
      wind: { speed: 4.32, deg: 93, gust: 8.75 },
      visibility: 10000,
      pop: 0.17,
      sys: { pod: "n" },
      dt_txt: "2023-02-23 21:00:00",
    },
    {
      dt: 1677196800,
      main: {
        temp: 5.59,
        feels_like: 2.48,
        temp_min: 5.51,
        temp_max: 5.59,
        pressure: 1019,
        sea_level: 1019,
        grnd_level: 1010,
        humidity: 83,
        temp_kf: 0.08,
      },
      weather: [
        {
          id: 804,
          main: "Clouds",
          description: "overcast clouds",
          icon: "04n",
        },
      ],
      clouds: { all: 100 },
      wind: { speed: 4.19, deg: 101, gust: 8.1 },
      visibility: 10000,
      pop: 0.09,
      sys: { pod: "n" },
      dt_txt: "2023-02-24 00:00:00",
    },
    {
      dt: 1677207600,
      main: {
        temp: 5.36,
        feels_like: 2.45,
        temp_min: 5.36,
        temp_max: 5.36,
        pressure: 1019,
        sea_level: 1019,
        grnd_level: 1008,
        humidity: 84,
        temp_kf: 0,
      },
      weather: [
        {
          id: 804,
          main: "Clouds",
          description: "overcast clouds",
          icon: "04n",
        },
      ],
      clouds: { all: 100 },
      wind: { speed: 3.74, deg: 102, gust: 7.21 },
      visibility: 10000,
      pop: 0,
      sys: { pod: "n" },
      dt_txt: "2023-02-24 03:00:00",
    },
    {
      dt: 1677218400,
      main: {
        temp: 5.35,
        feels_like: 3.21,
        temp_min: 5.35,
        temp_max: 5.35,
        pressure: 1018,
        sea_level: 1018,
        grnd_level: 1007,
        humidity: 84,
        temp_kf: 0,
      },
      weather: [
        { id: 500, main: "Rain", description: "light rain", icon: "10d" },
      ],
      clouds: { all: 100 },
      wind: { speed: 2.63, deg: 101, gust: 4.7 },
      visibility: 10000,
      pop: 0.25,
      rain: { "3h": 0.37 },
      sys: { pod: "d" },
      dt_txt: "2023-02-24 06:00:00",
    },
    {
      dt: 1677229200,
      main: {
        temp: 5.93,
        feels_like: 5.93,
        temp_min: 5.93,
        temp_max: 5.93,
        pressure: 1017,
        sea_level: 1017,
        grnd_level: 1006,
        humidity: 85,
        temp_kf: 0,
      },
      weather: [
        { id: 500, main: "Rain", description: "light rain", icon: "10d" },
      ],
      clouds: { all: 100 },
      wind: { speed: 0.61, deg: 153, gust: 1.65 },
      visibility: 10000,
      pop: 0.47,
      rain: { "3h": 0.85 },
      sys: { pod: "d" },
      dt_txt: "2023-02-24 09:00:00",
    },
    {
      dt: 1677240000,
      main: {
        temp: 7.99,
        feels_like: 7.03,
        temp_min: 7.99,
        temp_max: 7.99,
        pressure: 1014,
        sea_level: 1014,
        grnd_level: 1004,
        humidity: 77,
        temp_kf: 0,
      },
      weather: [
        {
          id: 804,
          main: "Clouds",
          description: "overcast clouds",
          icon: "04d",
        },
      ],
      clouds: { all: 100 },
      wind: { speed: 1.81, deg: 255, gust: 3.04 },
      visibility: 10000,
      pop: 0.35,
      sys: { pod: "d" },
      dt_txt: "2023-02-24 12:00:00",
    },
    {
      dt: 1677250800,
      main: {
        temp: 8.59,
        feels_like: 6.66,
        temp_min: 8.59,
        temp_max: 8.59,
        pressure: 1013,
        sea_level: 1013,
        grnd_level: 1003,
        humidity: 77,
        temp_kf: 0,
      },
      weather: [
        {
          id: 804,
          main: "Clouds",
          description: "overcast clouds",
          icon: "04d",
        },
      ],
      clouds: { all: 90 },
      wind: { speed: 3.27, deg: 273, gust: 5.13 },
      visibility: 10000,
      pop: 0.03,
      sys: { pod: "d" },
      dt_txt: "2023-02-24 15:00:00",
    },
    {
      dt: 1677261600,
      main: {
        temp: 6.34,
        feels_like: 4.49,
        temp_min: 6.34,
        temp_max: 6.34,
        pressure: 1012,
        sea_level: 1012,
        grnd_level: 1002,
        humidity: 86,
        temp_kf: 0,
      },
      weather: [
        {
          id: 804,
          main: "Clouds",
          description: "overcast clouds",
          icon: "04n",
        },
      ],
      clouds: { all: 93 },
      wind: { speed: 2.5, deg: 276, gust: 5.44 },
      visibility: 10000,
      pop: 0.02,
      sys: { pod: "n" },
      dt_txt: "2023-02-24 18:00:00",
    },
    {
      dt: 1677272400,
      main: {
        temp: 5.46,
        feels_like: 3.5,
        temp_min: 5.46,
        temp_max: 5.46,
        pressure: 1011,
        sea_level: 1011,
        grnd_level: 1001,
        humidity: 88,
        temp_kf: 0,
      },
      weather: [
        {
          id: 802,
          main: "Clouds",
          description: "scattered clouds",
          icon: "03n",
        },
      ],
      clouds: { all: 33 },
      wind: { speed: 2.44, deg: 261, gust: 4.18 },
      visibility: 10000,
      pop: 0,
      sys: { pod: "n" },
      dt_txt: "2023-02-24 21:00:00",
    },
    {
      dt: 1677283200,
      main: {
        temp: 4.92,
        feels_like: 3.02,
        temp_min: 4.92,
        temp_max: 4.92,
        pressure: 1010,
        sea_level: 1010,
        grnd_level: 1000,
        humidity: 89,
        temp_kf: 0,
      },
      weather: [
        {
          id: 802,
          main: "Clouds",
          description: "scattered clouds",
          icon: "03n",
        },
      ],
      clouds: { all: 44 },
      wind: { speed: 2.26, deg: 282, gust: 3.41 },
      visibility: 10000,
      pop: 0,
      sys: { pod: "n" },
      dt_txt: "2023-02-25 00:00:00",
    },
    {
      dt: 1677294000,
      main: {
        temp: 4.64,
        feels_like: 2.8,
        temp_min: 4.64,
        temp_max: 4.64,
        pressure: 1008,
        sea_level: 1008,
        grnd_level: 998,
        humidity: 90,
        temp_kf: 0,
      },
      weather: [
        { id: 803, main: "Clouds", description: "broken clouds", icon: "04n" },
      ],
      clouds: { all: 60 },
      wind: { speed: 2.15, deg: 254, gust: 2.74 },
      visibility: 10000,
      pop: 0,
      sys: { pod: "n" },
      dt_txt: "2023-02-25 03:00:00",
    },
    {
      dt: 1677304800,
      main: {
        temp: 5.41,
        feels_like: 3.27,
        temp_min: 5.41,
        temp_max: 5.41,
        pressure: 1007,
        sea_level: 1007,
        grnd_level: 997,
        humidity: 89,
        temp_kf: 0,
      },
      weather: [
        { id: 803, main: "Clouds", description: "broken clouds", icon: "04d" },
      ],
      clouds: { all: 75 },
      wind: { speed: 2.64, deg: 245, gust: 5.45 },
      visibility: 10000,
      pop: 0,
      sys: { pod: "d" },
      dt_txt: "2023-02-25 06:00:00",
    },
    {
      dt: 1677315600,
      main: {
        temp: 11.46,
        feels_like: 10.41,
        temp_min: 11.46,
        temp_max: 11.46,
        pressure: 1005,
        sea_level: 1005,
        grnd_level: 995,
        humidity: 67,
        temp_kf: 0,
      },
      weather: [
        {
          id: 804,
          main: "Clouds",
          description: "overcast clouds",
          icon: "04d",
        },
      ],
      clouds: { all: 93 },
      wind: { speed: 4.23, deg: 237, gust: 7.83 },
      visibility: 10000,
      pop: 0,
      sys: { pod: "d" },
      dt_txt: "2023-02-25 09:00:00",
    },
    {
      dt: 1677326400,
      main: {
        temp: 15.79,
        feels_like: 14.7,
        temp_min: 15.79,
        temp_max: 15.79,
        pressure: 1002,
        sea_level: 1002,
        grnd_level: 992,
        humidity: 49,
        temp_kf: 0,
      },
      weather: [
        { id: 803, main: "Clouds", description: "broken clouds", icon: "04d" },
      ],
      clouds: { all: 84 },
      wind: { speed: 6.59, deg: 245, gust: 11.36 },
      visibility: 10000,
      pop: 0,
      sys: { pod: "d" },
      dt_txt: "2023-02-25 12:00:00",
    },
    {
      dt: 1677337200,
      main: {
        temp: 13.03,
        feels_like: 12.11,
        temp_min: 13.03,
        temp_max: 13.03,
        pressure: 1002,
        sea_level: 1002,
        grnd_level: 992,
        humidity: 66,
        temp_kf: 0,
      },
      weather: [
        { id: 803, main: "Clouds", description: "broken clouds", icon: "04d" },
      ],
      clouds: { all: 79 },
      wind: { speed: 3.41, deg: 252, gust: 10.42 },
      visibility: 10000,
      pop: 0.11,
      sys: { pod: "d" },
      dt_txt: "2023-02-25 15:00:00",
    },
    {
      dt: 1677348000,
      main: {
        temp: 12.38,
        feels_like: 11.5,
        temp_min: 12.38,
        temp_max: 12.38,
        pressure: 1003,
        sea_level: 1003,
        grnd_level: 993,
        humidity: 70,
        temp_kf: 0,
      },
      weather: [
        {
          id: 804,
          main: "Clouds",
          description: "overcast clouds",
          icon: "04n",
        },
      ],
      clouds: { all: 90 },
      wind: { speed: 6.34, deg: 252, gust: 13.53 },
      visibility: 10000,
      pop: 0.09,
      sys: { pod: "n" },
      dt_txt: "2023-02-25 18:00:00",
    },
    {
      dt: 1677358800,
      main: {
        temp: 10.78,
        feels_like: 10.05,
        temp_min: 10.78,
        temp_max: 10.78,
        pressure: 1004,
        sea_level: 1004,
        grnd_level: 994,
        humidity: 82,
        temp_kf: 0,
      },
      weather: [
        { id: 500, main: "Rain", description: "light rain", icon: "10n" },
      ],
      clouds: { all: 96 },
      wind: { speed: 3.43, deg: 247, gust: 8.34 },
      visibility: 10000,
      pop: 0.29,
      rain: { "3h": 0.11 },
      sys: { pod: "n" },
      dt_txt: "2023-02-25 21:00:00",
    },
    {
      dt: 1677369600,
      main: {
        temp: 9.16,
        feels_like: 7.77,
        temp_min: 9.16,
        temp_max: 9.16,
        pressure: 1005,
        sea_level: 1005,
        grnd_level: 995,
        humidity: 91,
        temp_kf: 0,
      },
      weather: [
        {
          id: 804,
          main: "Clouds",
          description: "overcast clouds",
          icon: "04n",
        },
      ],
      clouds: { all: 96 },
      wind: { speed: 2.58, deg: 240, gust: 4.99 },
      visibility: 10000,
      pop: 0.1,
      sys: { pod: "n" },
      dt_txt: "2023-02-26 00:00:00",
    },
    {
      dt: 1677380400,
      main: {
        temp: 8.55,
        feels_like: 8.55,
        temp_min: 8.55,
        temp_max: 8.55,
        pressure: 1004,
        sea_level: 1004,
        grnd_level: 994,
        humidity: 92,
        temp_kf: 0,
      },
      weather: [
        {
          id: 804,
          main: "Clouds",
          description: "overcast clouds",
          icon: "04n",
        },
      ],
      clouds: { all: 100 },
      wind: { speed: 1.3, deg: 210, gust: 1.36 },
      visibility: 10000,
      pop: 0,
      sys: { pod: "n" },
      dt_txt: "2023-02-26 03:00:00",
    },
    {
      dt: 1677391200,
      main: {
        temp: 9,
        feels_like: 7.91,
        temp_min: 9,
        temp_max: 9,
        pressure: 1005,
        sea_level: 1005,
        grnd_level: 995,
        humidity: 89,
        temp_kf: 0,
      },
      weather: [
        {
          id: 804,
          main: "Clouds",
          description: "overcast clouds",
          icon: "04d",
        },
      ],
      clouds: { all: 100 },
      wind: { speed: 2.14, deg: 123, gust: 3.47 },
      visibility: 10000,
      pop: 0,
      sys: { pod: "d" },
      dt_txt: "2023-02-26 06:00:00",
    },
    {
      dt: 1677402000,
      main: {
        temp: 12.88,
        feels_like: 11.97,
        temp_min: 12.88,
        temp_max: 12.88,
        pressure: 1004,
        sea_level: 1004,
        grnd_level: 994,
        humidity: 67,
        temp_kf: 0,
      },
      weather: [
        {
          id: 804,
          main: "Clouds",
          description: "overcast clouds",
          icon: "04d",
        },
      ],
      clouds: { all: 100 },
      wind: { speed: 1.16, deg: 149, gust: 4.92 },
      visibility: 10000,
      pop: 0,
      sys: { pod: "d" },
      dt_txt: "2023-02-26 09:00:00",
    },
    {
      dt: 1677412800,
      main: {
        temp: 17.39,
        feels_like: 16.59,
        temp_min: 17.39,
        temp_max: 17.39,
        pressure: 1003,
        sea_level: 1003,
        grnd_level: 993,
        humidity: 54,
        temp_kf: 0,
      },
      weather: [
        {
          id: 804,
          main: "Clouds",
          description: "overcast clouds",
          icon: "04d",
        },
      ],
      clouds: { all: 100 },
      wind: { speed: 5.9, deg: 196, gust: 9.61 },
      visibility: 10000,
      pop: 0,
      sys: { pod: "d" },
      dt_txt: "2023-02-26 12:00:00",
    },
    {
      dt: 1677423600,
      main: {
        temp: 17.06,
        feels_like: 16.21,
        temp_min: 17.06,
        temp_max: 17.06,
        pressure: 1003,
        sea_level: 1003,
        grnd_level: 993,
        humidity: 53,
        temp_kf: 0,
      },
      weather: [
        { id: 803, main: "Clouds", description: "broken clouds", icon: "04d" },
      ],
      clouds: { all: 65 },
      wind: { speed: 8.1, deg: 182, gust: 14.64 },
      visibility: 10000,
      pop: 0.19,
      sys: { pod: "d" },
      dt_txt: "2023-02-26 15:00:00",
    },
    {
      dt: 1677434400,
      main: {
        temp: 14.36,
        feels_like: 13.42,
        temp_min: 14.36,
        temp_max: 14.36,
        pressure: 1005,
        sea_level: 1005,
        grnd_level: 995,
        humidity: 60,
        temp_kf: 0,
      },
      weather: [
        { id: 803, main: "Clouds", description: "broken clouds", icon: "04n" },
      ],
      clouds: { all: 79 },
      wind: { speed: 6.97, deg: 196, gust: 13.76 },
      visibility: 10000,
      pop: 0.18,
      sys: { pod: "n" },
      dt_txt: "2023-02-26 18:00:00",
    },
    {
      dt: 1677445200,
      main: {
        temp: 13.22,
        feels_like: 12.43,
        temp_min: 13.22,
        temp_max: 13.22,
        pressure: 1006,
        sea_level: 1006,
        grnd_level: 996,
        humidity: 70,
        temp_kf: 0,
      },
      weather: [
        {
          id: 804,
          main: "Clouds",
          description: "overcast clouds",
          icon: "04n",
        },
      ],
      clouds: { all: 100 },
      wind: { speed: 3.06, deg: 172, gust: 8.5 },
      visibility: 10000,
      pop: 0.02,
      sys: { pod: "n" },
      dt_txt: "2023-02-26 21:00:00",
    },
    {
      dt: 1677456000,
      main: {
        temp: 8.9,
        feels_like: 6.41,
        temp_min: 8.9,
        temp_max: 8.9,
        pressure: 1009,
        sea_level: 1009,
        grnd_level: 999,
        humidity: 77,
        temp_kf: 0,
      },
      weather: [
        {
          id: 804,
          main: "Clouds",
          description: "overcast clouds",
          icon: "04n",
        },
      ],
      clouds: { all: 100 },
      wind: { speed: 4.53, deg: 54, gust: 8.62 },
      visibility: 10000,
      pop: 0.05,
      sys: { pod: "n" },
      dt_txt: "2023-02-27 00:00:00",
    },
    {
      dt: 1677466800,
      main: {
        temp: 5.66,
        feels_like: 1.79,
        temp_min: 5.66,
        temp_max: 5.66,
        pressure: 1012,
        sea_level: 1012,
        grnd_level: 1002,
        humidity: 82,
        temp_kf: 0,
      },
      weather: [
        { id: 500, main: "Rain", description: "light rain", icon: "10n" },
      ],
      clouds: { all: 100 },
      wind: { speed: 5.86, deg: 64, gust: 8.91 },
      visibility: 10000,
      pop: 0.71,
      rain: { "3h": 1.16 },
      sys: { pod: "n" },
      dt_txt: "2023-02-27 03:00:00",
    },
    {
      dt: 1677477600,
      main: {
        temp: 5.24,
        feels_like: 1.64,
        temp_min: 5.24,
        temp_max: 5.24,
        pressure: 1018,
        sea_level: 1018,
        grnd_level: 1007,
        humidity: 78,
        temp_kf: 0,
      },
      weather: [
        { id: 500, main: "Rain", description: "light rain", icon: "10d" },
      ],
      clouds: { all: 100 },
      wind: { speed: 5, deg: 72, gust: 8.12 },
      visibility: 10000,
      pop: 0.75,
      rain: { "3h": 0.34 },
      sys: { pod: "d" },
      dt_txt: "2023-02-27 06:00:00",
    },
    {
      dt: 1677488400,
      main: {
        temp: 6.28,
        feels_like: 2.34,
        temp_min: 6.28,
        temp_max: 6.28,
        pressure: 1020,
        sea_level: 1020,
        grnd_level: 1010,
        humidity: 66,
        temp_kf: 0,
      },
      weather: [
        {
          id: 804,
          main: "Clouds",
          description: "overcast clouds",
          icon: "04d",
        },
      ],
      clouds: { all: 100 },
      wind: { speed: 6.48, deg: 81, gust: 10.16 },
      visibility: 10000,
      pop: 0,
      sys: { pod: "d" },
      dt_txt: "2023-02-27 09:00:00",
    },
    {
      dt: 1677499200,
      main: {
        temp: 8.07,
        feels_like: 4.5,
        temp_min: 8.07,
        temp_max: 8.07,
        pressure: 1021,
        sea_level: 1021,
        grnd_level: 1010,
        humidity: 61,
        temp_kf: 0,
      },
      weather: [
        {
          id: 804,
          main: "Clouds",
          description: "overcast clouds",
          icon: "04d",
        },
      ],
      clouds: { all: 100 },
      wind: { speed: 6.88, deg: 78, gust: 8.96 },
      visibility: 10000,
      pop: 0,
      sys: { pod: "d" },
      dt_txt: "2023-02-27 12:00:00",
    },
    {
      dt: 1677510000,
      main: {
        temp: 7.18,
        feels_like: 3.32,
        temp_min: 7.18,
        temp_max: 7.18,
        pressure: 1021,
        sea_level: 1021,
        grnd_level: 1011,
        humidity: 67,
        temp_kf: 0,
      },
      weather: [
        {
          id: 804,
          main: "Clouds",
          description: "overcast clouds",
          icon: "04d",
        },
      ],
      clouds: { all: 100 },
      wind: { speed: 6.98, deg: 70, gust: 11.18 },
      visibility: 10000,
      pop: 0.02,
      sys: { pod: "d" },
      dt_txt: "2023-02-27 15:00:00",
    },
    {
      dt: 1677520800,
      main: {
        temp: 5.3,
        feels_like: 0.6,
        temp_min: 5.3,
        temp_max: 5.3,
        pressure: 1023,
        sea_level: 1023,
        grnd_level: 1013,
        humidity: 77,
        temp_kf: 0,
      },
      weather: [
        { id: 500, main: "Rain", description: "light rain", icon: "10n" },
      ],
      clouds: { all: 100 },
      wind: { speed: 7.88, deg: 69, gust: 13 },
      visibility: 10000,
      pop: 0.32,
      rain: { "3h": 0.22 },
      sys: { pod: "n" },
      dt_txt: "2023-02-27 18:00:00",
    },
    {
      dt: 1677531600,
      main: {
        temp: 4.09,
        feels_like: -0.72,
        temp_min: 4.09,
        temp_max: 4.09,
        pressure: 1024,
        sea_level: 1024,
        grnd_level: 1013,
        humidity: 84,
        temp_kf: 0,
      },
      weather: [
        { id: 500, main: "Rain", description: "light rain", icon: "10n" },
      ],
      clouds: { all: 100 },
      wind: { speed: 7.17, deg: 62, gust: 12.42 },
      visibility: 10000,
      pop: 0.69,
      rain: { "3h": 1.62 },
      sys: { pod: "n" },
      dt_txt: "2023-02-27 21:00:00",
    },
    {
      dt: 1677542400,
      main: {
        temp: 3.8,
        feels_like: -1.01,
        temp_min: 3.8,
        temp_max: 3.8,
        pressure: 1024,
        sea_level: 1024,
        grnd_level: 1014,
        humidity: 85,
        temp_kf: 0,
      },
      weather: [
        { id: 500, main: "Rain", description: "light rain", icon: "10n" },
      ],
      clouds: { all: 100 },
      wind: { speed: 6.96, deg: 61, gust: 12.18 },
      visibility: 10000,
      pop: 0.63,
      rain: { "3h": 0.18 },
      sys: { pod: "n" },
      dt_txt: "2023-02-28 00:00:00",
    },
    {
      dt: 1677553200,
      main: {
        temp: 3.7,
        feels_like: -0.89,
        temp_min: 3.7,
        temp_max: 3.7,
        pressure: 1023,
        sea_level: 1023,
        grnd_level: 1013,
        humidity: 86,
        temp_kf: 0,
      },
      weather: [
        { id: 500, main: "Rain", description: "light rain", icon: "10n" },
      ],
      clouds: { all: 100 },
      wind: { speed: 6.32, deg: 63, gust: 11.15 },
      visibility: 10000,
      pop: 0.48,
      rain: { "3h": 0.38 },
      sys: { pod: "n" },
      dt_txt: "2023-02-28 03:00:00",
    },
    {
      dt: 1677564000,
      main: {
        temp: 3.45,
        feels_like: -1.14,
        temp_min: 3.45,
        temp_max: 3.45,
        pressure: 1024,
        sea_level: 1024,
        grnd_level: 1013,
        humidity: 88,
        temp_kf: 0,
      },
      weather: [
        { id: 500, main: "Rain", description: "light rain", icon: "10d" },
      ],
      clouds: { all: 100 },
      wind: { speed: 6.15, deg: 56, gust: 10.55 },
      visibility: 10000,
      pop: 0.91,
      rain: { "3h": 1.42 },
      sys: { pod: "d" },
      dt_txt: "2023-02-28 06:00:00",
    },
    {
      dt: 1677574800,
      main: {
        temp: 3.16,
        feels_like: -1.47,
        temp_min: 3.16,
        temp_max: 3.16,
        pressure: 1023,
        sea_level: 1023,
        grnd_level: 1013,
        humidity: 88,
        temp_kf: 0,
      },
      weather: [
        { id: 500, main: "Rain", description: "light rain", icon: "10d" },
      ],
      clouds: { all: 100 },
      wind: { speed: 6.07, deg: 52, gust: 10.05 },
      visibility: 10000,
      pop: 0.94,
      rain: { "3h": 0.78 },
      sys: { pod: "d" },
      dt_txt: "2023-02-28 09:00:00",
    },
    {
      dt: 1677585600,
      main: {
        temp: 3.11,
        feels_like: -1.56,
        temp_min: 3.11,
        temp_max: 3.11,
        pressure: 1021,
        sea_level: 1021,
        grnd_level: 1010,
        humidity: 87,
        temp_kf: 0,
      },
      weather: [
        { id: 500, main: "Rain", description: "light rain", icon: "10d" },
      ],
      clouds: { all: 100 },
      wind: { speed: 6.14, deg: 55, gust: 10.06 },
      visibility: 10000,
      pop: 0.74,
      rain: { "3h": 0.15 },
      sys: { pod: "d" },
      dt_txt: "2023-02-28 12:00:00",
    },
    {
      dt: 1677596400,
      main: {
        temp: 3.19,
        feels_like: -1.59,
        temp_min: 3.19,
        temp_max: 3.19,
        pressure: 1019,
        sea_level: 1019,
        grnd_level: 1009,
        humidity: 87,
        temp_kf: 0,
      },
      weather: [
        {
          id: 804,
          main: "Clouds",
          description: "overcast clouds",
          icon: "04d",
        },
      ],
      clouds: { all: 100 },
      wind: { speed: 6.43, deg: 54, gust: 10.72 },
      visibility: 10000,
      pop: 0.05,
      sys: { pod: "d" },
      dt_txt: "2023-02-28 15:00:00",
    },
  ],
  city: {
    id: 683506,
    name: "Bucharest",
    coord: { lat: 44.4323, lon: 26.1063 },
    country: "RO",
    population: 15000,
    timezone: 7200,
    sunrise: 1677128644,
    sunset: 1677167657,
  },
};

// function request(newCity = city) {
//   API.call(newCity, unit)
//     .then(([currentResult, forecastResult]) => {
//       const obj = Process.currentWeather(currentResult);
//       DOM.updateCurrent(obj, unit);

//       const { list } = forecastResult;
//       const timezoneMS = forecastResult.city.timezone * 1000;
//       const forecastInfo = Process.forecastWeather(list, timezoneMS);
//       DOM.updateForecast(forecastInfo, unit);
//     })
//     .catch((err) => {
//       if (err.cause === "http-error") {
//         DOM.displayError("invalid city");
//       } else DOM.displayError("network error");
//     });
// }

const input = document.querySelector("#search-city");
const form = document.querySelector("form#weather");
const celsiusBtn = document.querySelector("#metric");
const fahrenheitBtn = document.querySelector("#imperial");

celsiusBtn.addEventListener("click", () => {
  const newUnit = celsiusBtn.id;
  if (unit === newUnit) return;
  celsiusBtn.classList.add("active");
  fahrenheitBtn.classList.remove("active");
  unit = newUnit;
  DOM.swapUnits(unit);
});

fahrenheitBtn.addEventListener("click", () => {
  const newUnit = fahrenheitBtn.id;
  if (unit === newUnit) return;
  fahrenheitBtn.classList.add("active");
  celsiusBtn.classList.remove("active");
  unit = newUnit;
  DOM.swapUnits(unit);
});

form.addEventListener("submit", (e) => {
  e.preventDefault();
  const newCity = input.value.trim();

  if (!form.checkValidity() || newCity === city) {
    input.value = "";
    return;
  }

  // request(newCity);

  city = newCity;
  input.value = "";
});

// request();

function noapi() {
  const obj = Process.currentWeather(CURRENT);
  DOM.updateCurrent(obj, unit);

  const { list } = FORECAST;
  const timezoneMS = FORECAST.city.timezone * 1000;
  const forecastInfo = Process.forecastWeather(list, timezoneMS);
  DOM.updateForecast(forecastInfo, unit);
}
noapi();
